<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Geo Bundesliga</title>
    <link rel="icon" href="icon.png" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      html,
      body {
        height: 100%;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        background: linear-gradient(to bottom right, #1a0033, #660066);
        color: white;
      }
      
      body {
        background: linear-gradient(to bottom right, #1a0033, #660066);
        background-repeat: no-repeat;
        background-size: cover;
        background-attachment: fixed;
        color: white;
        text-align: center;
        font-size: larger;
        /*padding: 40px 0;*/
        min-height: 100vh;
      }
      .card-custom {
        background-color: #dcd6e0;
        color: black;
        border-radius: 5px;
        padding: 40px;
        margin: 15px;
        font-weight: bold;
      }
      .card-untere-reihe {
        padding: 30px;
      }
      a {
        text-decoration: none;
      }

      a:hover {
        background-color: #2a2c6b;
        color: #dcd6e0;
        transition: background-color 0.3s ease, color 0.3s ease;
      }

      .my-6 {
        margin-top: 5rem !important;
        margin-bottom: 5rem !important;
      }

      #newest-games-card {
        background-color: #dcd6e0cc;
        text-align: left;
      }

      .live-button {
        background-color: #FF0000;
        color: white;
        padding: 8px 16px;
        border-radius: 8px;
        text-decoration: none;
        font-weight: bold;
        font-size: 1em;
        transition: background-color 0.3s ease;
      }

      .live-button:hover {
        background-color: #cc0000;
      }

      #live-button {
        position: absolute;
        top: 3.5em;
        right: 15%;
        display: none;
      }

      .youtube-slider {
        display: flex;
        transition: transform 0.5s ease;
      }

      .yt-arrow {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background-color: #6c757d;
        color: white;
        border: none;
        font-size: 2rem;
        cursor: pointer;
        z-index: 2;
        padding: 5px 10px;
        border-radius: 4px;
        opacity: 0.8;
      }

      .yt-arrow.left {
        left: 10px;
      }

      .yt-arrow.right {
        right: 10px;
      }

      .yt-arrow:hover {
        opacity: 1;
        background-color: #5a6268;
      }

      /* Header */
      header {
        background-color: #1a012b;
        padding: 30px 40px; /* etwas höher */
        flex-shrink: 0;
      }

      header .logo {
        font-weight: bold;
        font-size: 1.6rem; /* leicht größer */
        display: flex;
        align-items: center;
      }

      header nav a {
        text-decoration: none;
        color: white;
        margin: 0 10px;
      }

      header nav a:hover {
        color: #ffcc00;
        background-color: transparent;
      }

      header .btn-discord {
        background: #4b1d69;
        padding: 6px 12px;
        border-radius: 6px;
        color: white;
        text-decoration: none;
        margin-left: 10px;
      }

      .btn-discord:hover {
        border-color: #9b5de5;
        background-color: #5b2a86;
      }
      /* Footer */
      footer {
        text-align: center;
        padding: 20px;
        font-size: 0.9rem;
        color: #ccc;
        background: #1a012b;
        flex-shrink: 0;
      }

      footer a {
        color: #ccc;
        text-decoration: none;
        margin: 0 5px;
      }

      footer a:hover {
        color: #ffcc00;
      }
      main {
        flex: 1; /* sorgt dafür, dass Footer unten bleibt */
      }

      .content-wrapper {
        flex: 1; /* füllt automatisch den Platz zwischen Header und Footer */
      }

      #results-slider {
        position: relative;
        min-height: 380px; /* gleiche Höhe wie die YT-Box */
      }
    </style>
  </head>
  <body>
    <!-- Header -->
    <header class="d-flex justify-content-between align-items-center">
      <div class="logo">
        <img src="icon.png" alt="Icon" style="height: 1.5em; margin-right: 0.25em;" />
        Geo Bundesliga
      </div>
      <nav class="d-flex align-items-center">
        <a href="untereReihe/archive/archive.html">Archiv</a>
        <a href="https://docs.google.com/document/d/1InAqAS-TSFhilSsoxQJZFee-SdjD0VU_6mBI3aWo5GQ/edit?usp=sharing">Regelwerk</a>
        <a href="untereReihe/mapbot/mapbot.html">Map Bot</a>
        <a href="untereReihe/stats/stats.html">Statistiken</a>
        <a href="https://discord.gg/3YkaPPTp" class="btn-discord">DACH Discord</a>
      </nav>
    </header>

    <div class="content-wrapper">
      <div class="container">
        <section class="text-center mt-5">
          <h1 style="font-size: 2.5rem; font-weight: bold;">Deutschsprachige GeoGuessr-Liga</h1>
        </section>
        <!--
          <div style="position: relative; text-align: center; ">
            <h1 class="mb-5 fw-bold">
              <img src="icon.png" alt="Icon" style="height: 1.75em; margin-right: 0.25em;">
              Geo Bundesliga
            </h1>
            <a id="live-button" class = "live-button" href="#" target="_blank"></a>
          </div>-->
    
    
    
        <!-- liga X -->
        <div class="row justify-content-center">
          <a href="ligen/liga1.html" class="col-xs-12 col-sm-8 col-xl-4 card-custom">Liga 1</a>
          <a href="ligen/liga2.html" class="col-xs-12 col-sm-8 col-xl-4 card-custom">Liga 2</a>
          <a href="ligen/liga3a.html" class="col-xs-12 col-sm-8 col-xl-4 card-custom">Liga 3a</a>
          <a href="ligen/liga3b.html" class="col-xs-12 col-sm-8 col-xl-4 card-custom">Liga 3b</a>
          <a href="ligen/liga4a.html" class="col-xs-12 col-sm-8 col-xl-4 card-custom">Liga 4a</a>
          <a href="ligen/liga4b.html" class="col-xs-12 col-sm-8 col-xl-4 card-custom">Liga 4b</a>
        </div>
    
        <div class="d-flex flex-wrap justify-content-center gap-4" style="margin: 2rem 0">
    
          <!-- Ergebnisse -->
          <!--<div class="card p-3"
            style="background-color: #dcd6e0cc; text-align: left; min-width: 300px; max-width: 600px; flex: 1; max-height: 381px; overflow-y: auto; overflow-x: auto;">
            <h5 class="card-title">Ergebnisse der letzten 24h:</h5>
            <ul id="newest-games-list" style="margin-bottom: 0; white-space: nowrap;"></ul>

          </div>-->
          <div class="card p-3" style="background-color: #dcd6e0cc; text-align: left; min-width: 300px; max-width: 600px; flex: 1; max-height: 381px; overflow-y: auto; overflow-x: auto;">
            <div id="results-slider" style="position: relative; overflow: hidden;">
              <div id="results-slides" style="white-space: nowrap; transition: transform 0.5s ease;">
                
                <!-- Slide 1 -->
                <div style="display: inline-block; width: 100%; white-space: normal; vertical-align: top;">
                  <h5 class="card-title">Ergebnisse der letzten 24h:</h5>
                  <ul id="newest-games-list" style="margin-bottom: 0; white-space: nowrap;"></ul>
                </div>

                <!-- Slide 2 -->
                <div style="display: inline-block; width: 100%; white-space: normal;">
                  <h5 class="card-title">Anstehende Matches:</h5>
                  <ul id="weekly-games-list" style="margin-bottom: 0;"></ul>
                </div>
              </div>

              <button class="yt-arrow left" onclick="prevResultsSlide()">&#10094;</button>
              <button class="yt-arrow right" onclick="nextResultsSlide()">&#10095;</button>
            </div>
          </div>
    
          <div class="card p-3"
            style="background-color: #dcd6e0cc; text-align: left; min-width: 300px; max-width: 600px; flex: 1; max-height: 381px;">
            <h5 class="card-title">YouTube Videos zur GeoBundesliga:</h5>
            <div id="youtube-slider" style="position: relative; overflow: hidden;">
              <div id="youtube-slides" style="white-space: nowrap; transition: transform 0.5s ease;">
              </div>
              <button class="yt-arrow left" onclick="prevSlide()">&#10094;</button>
              <div class="youtube-slider" id="youtube-slider"></div>
              <button class="yt-arrow right" onclick="nextSlide()">&#10095;</button>
            </div>
          </div>
        </div>
      </div>
    </div>
      <!-- Footer (sticky) -->
      <footer>
        <!--© GeoBundesliga · <a href="#">Kontakt</a> · <a href="#">Impressum</a>-->
      </footer>

    <script src="newestGames3.js"></script>
    <script src="yt_twitch.js"></script>
    <script>
      const configs = [
        {
          key: "NewestGames",
          sheetID: "1LSKX1Nx3OIUcUc8D24b-BA_IGCqEo_FA-6ey0LbpLAo",
          sheetName: "Newest_games",
          dataRange: "B2:U100",
          target: "#newest-games-list",
          renderMode: "stats" 
        },
        {
          key: "UpcomingGames",
          sheetID: "1LSKX1Nx3OIUcUc8D24b-BA_IGCqEo_FA-6ey0LbpLAo",
          sheetName: "Upcoming_games",
          dataRange: "B2:U100",
          target: "#weekly-games-list",
          renderMode: "upcoming" 
        }
      ];

      configs.forEach(cfg => {
        const info = new GameInfos(cfg);
        info.initialize();
      });

       // Slider-Funktion
      let currentResultsSlide = 0;
      const resultsSlides = document.getElementById("results-slides");
      const totalResultsSlides = resultsSlides.children.length;

      function showResultsSlide(index) {
        if (index < 0) currentResultsSlide = totalResultsSlides - 1;
        else if (index >= totalResultsSlides) currentResultsSlide = 0;
        else currentResultsSlide = index;
        resultsSlides.style.transform = `translateX(${-currentResultsSlide * 100}%)`;
      }

      function nextResultsSlide() { showResultsSlide(currentResultsSlide + 1); }
      function prevResultsSlide() { showResultsSlide(currentResultsSlide - 1); }

      setInterval(nextResultsSlide, 60000);
      
      /*const newestGameStats = new NewestGameInfos(
        "1Uxxbeuk95zrvLEHi8E9qfB9q6iklD6MZ8KAsUbsC2nw",
        "Newest_games",
        "B2:U100",
        "",
        "NewestGames"
      );*/

      // Lade die Daten für alle Ligen
      //newestGameStats.initialize();

    </script>
  </body>
</html>
